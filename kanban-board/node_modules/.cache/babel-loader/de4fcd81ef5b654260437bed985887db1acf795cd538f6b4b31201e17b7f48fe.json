{"ast":null,"code":"import React,{useState,useMemo}from'react';import{BsThreeDots}from'react-icons/bs';import{AiOutlinePlus}from'react-icons/ai';import'./Column.css';import{Card}from'../Card/Card';import{PRIORITY_MAP}from'../../constants/priority';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Column=_ref=>{var _PRIORITY_MAP$mostCom,_PRIORITY_MAP$mostCom2;let{title,tickets,users,icon,groupBy}=_ref;const[showDropdown,setShowDropdown]=useState(false);const[showAddTicket,setShowAddTicket]=useState(false);const handleAddTicket=()=>{setShowAddTicket(true);// Implemented actual add ticket functionality here\n};const handleHideAll=()=>{console.log('Hide all tickets in',title);setShowDropdown(false);};const handleClearSection=()=>{console.log('Clear section',title);setShowDropdown(false);};// Determined the most common priority in this column\nconst getMostCommonPriority=tickets=>{const priorityCount={0:0,1:0,2:0,3:0,4:0};tickets.forEach(ticket=>{var _ticket$priority;const priority=(_ticket$priority=ticket.priority)!==null&&_ticket$priority!==void 0?_ticket$priority:0;// Default to 0 (No priority) if undefined\npriorityCount[priority]++;});// Finded the highest count priority\nconst mostCommonPriority=Object.keys(priorityCount).reduce((a,b)=>priorityCount[a]>priorityCount[b]?a:b);return mostCommonPriority;};const mostCommonPriority=useMemo(()=>getMostCommonPriority(tickets),[tickets]);const priorityLabel=((_PRIORITY_MAP$mostCom=PRIORITY_MAP[mostCommonPriority])===null||_PRIORITY_MAP$mostCom===void 0?void 0:_PRIORITY_MAP$mostCom.label)||\"No priority\";const priorityIcon=((_PRIORITY_MAP$mostCom2=PRIORITY_MAP[mostCommonPriority])===null||_PRIORITY_MAP$mostCom2===void 0?void 0:_PRIORITY_MAP$mostCom2.icon)||\"⚫\";// Fallback icon\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[icon&&/*#__PURE__*/_jsx(\"span\",{className:\"column-icon\",children:icon}),groupBy==='priority'?/*#__PURE__*/_jsxs(\"span\",{className:\"priority-label\",children:[priorityIcon,\" \",priorityLabel]}):/*#__PURE__*/_jsx(\"h3\",{children:title})// Only render the title if not grouping by priority\n,/*#__PURE__*/_jsx(\"span\",{className:\"ticket-count\",children:tickets.length})]}),title!=='Cancelled'&&/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"icon-button\",onClick:handleAddTicket,title:\"Add new ticket\",children:/*#__PURE__*/_jsx(AiOutlinePlus,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"icon-button\",onClick:()=>setShowDropdown(!showDropdown),title:\"More options\",children:/*#__PURE__*/_jsx(BsThreeDots,{})}),showDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"column-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleHideAll,children:\"Hide All Tickets\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearSection,children:\"Clear This Section\"})]})]})]})]}),showAddTicket&&title!=='Cancelled'&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-ticket-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter ticket title...\",className:\"ticket-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:()=>setShowAddTicket(false),children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-cancel\",onClick:()=>setShowAddTicket(false),children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"column-content\",children:tickets.map(ticket=>/*#__PURE__*/_jsx(Card,{ticket:ticket,user:users.find(user=>user.id===ticket.userId)},ticket.id))})]});};","map":{"version":3,"names":["React","useState","useMemo","BsThreeDots","AiOutlinePlus","Card","PRIORITY_MAP","jsx","_jsx","jsxs","_jsxs","Column","_ref","_PRIORITY_MAP$mostCom","_PRIORITY_MAP$mostCom2","title","tickets","users","icon","groupBy","showDropdown","setShowDropdown","showAddTicket","setShowAddTicket","handleAddTicket","handleHideAll","console","log","handleClearSection","getMostCommonPriority","priorityCount","forEach","ticket","_ticket$priority","priority","mostCommonPriority","Object","keys","reduce","a","b","priorityLabel","label","priorityIcon","className","children","length","onClick","type","placeholder","map","user","find","id","userId"],"sources":["C:/Users/ABHAY RAJ SINGH/Desktop/quickshell/kanban-board/src/components/Column/Column.jsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { BsThreeDots } from 'react-icons/bs';\r\nimport { AiOutlinePlus } from 'react-icons/ai';\r\nimport './Column.css';\r\nimport { Card } from '../Card/Card';\r\nimport { PRIORITY_MAP } from '../../constants/priority';\r\n\r\nexport const Column = ({ title, tickets, users, icon, groupBy }) => {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [showAddTicket, setShowAddTicket] = useState(false);\r\n\r\n  const handleAddTicket = () => {\r\n    setShowAddTicket(true);\r\n    // Implemented actual add ticket functionality here\r\n  };\r\n\r\n  const handleHideAll = () => {\r\n    console.log('Hide all tickets in', title);\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  const handleClearSection = () => {\r\n    console.log('Clear section', title);\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  // Determined the most common priority in this column\r\n  const getMostCommonPriority = (tickets) => {\r\n    const priorityCount = {\r\n      0: 0,\r\n      1: 0,\r\n      2: 0,\r\n      3: 0,\r\n      4: 0,\r\n    };\r\n\r\n    tickets.forEach(ticket => {\r\n      const priority = ticket.priority ?? 0; // Default to 0 (No priority) if undefined\r\n      priorityCount[priority]++;\r\n    });\r\n\r\n    // Finded the highest count priority\r\n    const mostCommonPriority = Object.keys(priorityCount).reduce((a, b) => \r\n      priorityCount[a] > priorityCount[b] ? a : b\r\n    );\r\n\r\n    return mostCommonPriority;\r\n  };\r\n\r\n  const mostCommonPriority = useMemo(() => getMostCommonPriority(tickets), [tickets]);\r\n\r\n  const priorityLabel = PRIORITY_MAP[mostCommonPriority]?.label || \"No priority\";\r\n  const priorityIcon = PRIORITY_MAP[mostCommonPriority]?.icon || \"⚫\"; // Fallback icon\r\n\r\n  return (\r\n    <div className=\"column\">\r\n      <div className=\"column-header\">\r\n        <div className=\"header-left\">\r\n          {icon && <span className=\"column-icon\">{icon}</span>}\r\n  \r\n          {groupBy === 'priority' ? (\r\n            <span className=\"priority-label\">\r\n              {priorityIcon} {priorityLabel}\r\n            </span>\r\n          ) : (\r\n            <h3>{title}</h3>  // Only render the title if not grouping by priority\r\n          )}\r\n          \r\n          <span className=\"ticket-count\">{tickets.length}</span>\r\n        </div>\r\n\r\n        {title !== 'Cancelled' && (\r\n          <div className=\"header-actions\">\r\n            <button \r\n              className=\"icon-button\"\r\n              onClick={handleAddTicket}\r\n              title=\"Add new ticket\"\r\n            >\r\n              <AiOutlinePlus />\r\n            </button>\r\n\r\n            <div className=\"dropdown-container\">\r\n              <button \r\n                className=\"icon-button\"\r\n                onClick={() => setShowDropdown(!showDropdown)}\r\n                title=\"More options\"\r\n              >\r\n                <BsThreeDots />\r\n              </button>\r\n\r\n              {showDropdown && (\r\n                <div className=\"column-dropdown\">\r\n                  <button onClick={handleHideAll}>Hide All Tickets</button>\r\n                  <button onClick={handleClearSection}>Clear This Section</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showAddTicket && title !== 'Cancelled' && (\r\n        <div className=\"add-ticket-form\">\r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Enter ticket title...\"\r\n            className=\"ticket-input\"\r\n          />\r\n          <div className=\"form-actions\">\r\n            <button \r\n              className=\"btn-add\"\r\n              onClick={() => setShowAddTicket(false)}\r\n            >\r\n              Add\r\n            </button>\r\n            <button \r\n              className=\"btn-cancel\"\r\n              onClick={() => setShowAddTicket(false)}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"column-content\">\r\n        {tickets.map(ticket => (\r\n          <Card \r\n            key={ticket.id} \r\n            ticket={ticket} \r\n            user={users.find(user => user.id === ticket.userId)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}